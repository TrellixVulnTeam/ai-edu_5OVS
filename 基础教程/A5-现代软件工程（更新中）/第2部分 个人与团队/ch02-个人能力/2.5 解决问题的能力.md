## 2.5 系统思维能力

### 2.5.1 解决问题的能力

在前面的故事中提到过“解决问题的能力”，是指的一些简单的问题，只需要做出一两个正确的判断或者动作就可以解决。

比如面试官问：如何估算出北京的机动车保有量？有的面试者会说：我直接去网上查一下官方数据就可以吧！

这不叫作解决问题，正确的做法是这样的：

1. 可以从官方的数据上得知，北京的常驻人口为 2100 万。
2. 假设是三个人组成一个家庭，那么一共有 700 万个家庭。假设每个家庭拥有一辆汽车，则一共有 700 万辆汽车。
3. 但是由于以下因素，会造成这一数字的不准确：
    - 摇号限制购买的措施，这个数字会减少
    - 很多年轻人还没有成家，但也可能有私家车，这个数字会增加
    - 北京还有很多企事业单位用车
    - 北京的出租车大概有 6 万辆
4. 上面几个因素有增有减，所以最后的汽车保有量大概就是 700 万辆左右。

所以，机动车数量从根本上是由人口数量及组成决定的，找到因果关系是决定是否能够解决一个问题的关键。


解决问题的能力，需要五个阶段的培养或锻炼。

#### 阶段 1：给目标，给方法

比如，木头在刚开始工作时，需要处理一个地图数据中的聚类问题：在一条 50 米长的路上，零零散散地分布了很多公交车的站牌。有些站牌相距只有 5 米，而有些站牌却距离 20 米远。那么，哪些情况下这些站牌可以认为在地理位置上是同一个“点”呢？

如图 2.5.1 所示。

<center>
<img src="Images/Slide8.JPG"/>

图 2.5.1 公交站点聚类问题
</center> 


假设相距小于 15 米的两个站牌可以认为是同一个点，那么 A 和 C 就不能聚在一起。但是如果 A 和 B 聚在一起，它们的中点就会距离 C 只有 15 米，那么 A、B、C 就会聚在一起，然后 D 又会加入......所以这种朴素的聚类思想是不可取的。

领导告诉木头：

- 首先，你的目标是要把这些站牌做一个聚类，距离很近的站牌可以让它们在拓扑结构上是同一个点，便于后面的算法执行。
- 其次，你用 KNN 算法就可以完成科学的聚类了。

所以，领导即告诉了目标，又告诉了方法，木头只需要写代码实现就好了。


#### 阶段 2：给目标，给例子

有的时候，针对一个新问题，不能确定使用什么方法能够解决，但是以前有过类似的问题和对应的解决方案，此时不妨拿出来参考。

领导告诉木头：
- 你的目标是要做公交站牌聚类；
- 我不知道现有的聚类算法是否可以直接使用，我们以前有个例子，是这样的：

    如图 2.5.2，统计了几十个人的身高体重，但是粗心的统计员忘记记录性别了，此时，可以用聚类的办法来大致把这些点分成两类，一类是男性，一类是女性。具体的数据和代码你可以在咱们的代码仓库里 (https://github.com/microsoft/ai-edu)找到，当时我们使用 DBSCAN 算法实现的。

    但是，与公交站牌聚类的例子比较，可以看到二者的区别是：一个是在二维空间里的聚类，一个是在一维空间里的聚类，能保证聚类算法的效果是可信的吗？你需要做一些试验，来验证这一点。

<center>
<img src="Images/Slide9.JPG"/>

图 2.5.2 人类性别聚类问题
</center> 

所以，领导即告诉了目标，又告诉了相似的例子，木头需要写代码做试验，这比“给目标，给方法”的难度要稍微高一些。

#### 阶段 3：给目标，给范围

如果还用上面的例子，那么领导会是这样说：

- 目标是做公交站牌的地理位置聚类；
- 用 scikit-learn 的 Python 库里提供的聚类算法应该可以搞定。

或者是这样说：

- 目标是做公交站牌的地理位置聚类；
- 木头同学，你和石头同学一起讨论一下具体实现方案，如果需要帮忙就去找铁头同学咨询一下。

#### 阶段 4：只给目标

这个（对领导来说）更简单：木头同学，你需要在一个月的时间内，把所有中国重点城市的公交车的站点按名称和地理位置做聚类，这样后续的换乘算法可以利用你给出的拓扑结构。

但是有时候领导可能说得不太准确：木头同学，你需要在一个月的时间内，把所有中国重点城市的公交车的站点处理一下，后面才能写换乘算法。

这里面就有很多坑需要木头自己填平，比如：

1. “苏州街”是个站名，北京、上海、苏州都有这个站名，但是不同城市的站是不能合并的。
2. 处于街道两侧的相同名称的站是不能聚类到一起的，因为是分别属于上下行站。
3. 距离多远才算是符合聚类条件，这个需要木头自己摸索。
4. 地铁站与公交站名称相同时，是不能聚到一起的，因为虽然经纬度可能相近，但是海拔不同，一个在地面，一个在地下。
5. 如果用经纬度计算距离，那么原始数据的经纬度数值精度至少在小数点后五位数以上，否则误差将会很大。
6. 夜班车站要和白天正常运营的公交车站聚类在一起吗？

#### 阶段 5：啥都不给

这样的领导最省心了：同学们，数据到了，大家分工处理一下吧。然后木头、石头、铁头等需要自己去讨论方案，最后汇报给领导。

这一阶段需要个人能力达到了一定的高度，领导充分信任，才有可能发生。

### 2.5.2 
